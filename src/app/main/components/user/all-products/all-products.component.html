<div *ngIf="!(loaderService.isLoading | async)">
    <div class="container mb-5">
        <div class="row  align-items-stretch">
            <!--product card-->
            <div *ngFor="let product of allProducts" class="mt-4 col-xl-4 col-lg-6  px-2">
                <mat-card class="p-3 rounded-4 h-100">
                    <mat-card-header>
                        <div mat-card-avatar>
                            <mat-icon>shopping_cart</mat-icon>
                        </div>
                        <mat-card-title>{{ product.title }}</mat-card-title>
                        <mat-card-subtitle class="my-3 fs-5">{{ product.price | currency }}</mat-card-subtitle>
                    </mat-card-header>
                    <img mat-card-image [src]="product?.image" alt="Product Image" class="mb-3">
                    <mat-card-content class="mt-3 text-center">
                        <p>{{ product.description }}</p>
                    </mat-card-content>
                    <mat-card-actions class="m-auto mb-1" *ngIf="product.rating">
                        <div class="rate">
                            <mat-icon *ngFor="let _ of [1, 2, 3, 4, 5]"
                                [ngClass]="{ 'active': _ <= product.rating.rate }">star</mat-icon>
                        </div>
                        <div class="count py-2">Count: {{ product.rating.count }}</div>
                    </mat-card-actions>

                </mat-card>
            </div>
        </div>
    </div>
</div>